<div class="banner">
  <div class="text-in-banner">
    <h1>Vos critères</h1>
  </div>
</div>

<div class="container">
  <form action="/activities/filter_sort", method="get">
    <h2>Sélectionnez une catégorie</h2>

      <% @categories.each do |category| %>
        <div>
          <input type="checkbox" class="categoryCheckbox" value="<%= "#{category}" %>" name="category_<%= "#{category}" %>">
          <!-- value="<%#= @categories.index("#{category}")" %> => index de @categories -->
          <%= category %>
        </div>
      <% end %>
    <h2>Trier par</h2>
      <div>
        <input type="radio" id="sortEndDate" name="sort" value="end_date">Date de fin
        <input type="radio" id="sortRating" name="sort" value="avg_rating">Note
        <input type="radio" id="sortName" name="sort" value="name">Nom
        <input onclick="getLocation()" type="radio" id="sortDistance" name="sort" value="distance">Distance

        <input style="visibility:hidden" type="radio" id="longitudeUser" name="longitude" value="" checked>
        <input style="visibility:hidden" type="radio" id="latitudeUser" name="latitude" value="" checked>

        <!-- id unique pour qu'on ne puisse sélectionner qu'une seule radio -->
        <!-- name = clé qu'on récupère dans les params -->
        <!-- value = valeur de la clé qu'on récupère dans les params -->
      </div>

<!--     <h2>Sélectionnez une date</h2>
    <input type="text" class="date" name="date">
      date -->
    <input type="submit" value="Send Request" id="ModalSubmit">
  </form>


<p id="demo"></p>

<script>
// var x = document.getElementById("sortDistance");
var long = document.getElementById("longitudeUser");
var lat = document.getElementById("latitudeUser");

function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPositionLongitude);
    navigator.geolocation.getCurrentPosition(showPositionLatitude);
    // navigator.geolocation.getCurrentPosition(showPosition);

  } else {
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
}

// function showPosition(position) {
//   x.value = "Latitude: " + position.coords.latitude +
//   "<br>Longitude: " + position.coords.longitude;
// }

function showPositionLongitude(position) {
  long.value = position.coords.longitude;
}

function showPositionLatitude(position) {
  lat.value = position.coords.latitude;
}
</script>
